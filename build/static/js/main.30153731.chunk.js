(this["webpackJsonptrabajo-final-react"]=this["webpackJsonptrabajo-final-react"]||[]).push([[0],{157:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(63),o=n.n(c),i=n(42),s=n(35),u=n(193),l=n(189),b=n(15),j=n(13),d=n.n(j),h=n(22),p="https://covidcentre.herokuapp.com/api",f={path1:function(){return"".concat(p,"/")},path2:function(){return"".concat(p,"/resources")},path3:function(e){return"".concat(p,"/resoures/").concat(e)},vaccinationCentres:function(){return"".concat(p,"/vaccinationcentres")},auth:function(){return"".concat(p,"/auth")}},O=n(103),x=n.n(O),g=n(104),v="Bearer ".concat(n.n(g).a.get("token")),y=function(){var e=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x()(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(h.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"get",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:v}},e.next=3,y(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"post",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:v}},e.next=3,y(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"delete",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:v}},e.next=3,y(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"patch",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:v}},e.next=3,y(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m(e,t)},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(e,t)},delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C(e,t)},patch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(e,t)}},_=function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get(f.auth());case 2:return t=e.sent,n=t.user,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R="GET_AUTH_LOADING",E="GET_AUTH_OK",S="GET_AUTH_ERROR",D=function(e){return{type:E,payload:e}},A=function(e){return e.authReducer.userData},z=function(e){return e.authReducer.loading},G=n(3),L=Object(s.b)((function(e){return{loading:z(e),userData:A(e)}}))((function(e){var t=e.Component,n=e.loading,r=e.userData.roles;return n?Object(G.jsx)("div",{children:"cargando"}):"Admin"===r?Object(G.jsx)(t,{}):Object(G.jsx)("div",{children:"logueate"})})),I=n(17),W=n(196),H=n(162),F=n(173),N=n(175),B=n(176),M=n(180),U=n(181),P=n(161),J=n(194),K=n(113),X=n(192),V=n(191),q=n(106),Q=n(178),Y=n(179),Z=n(183),$=n(184),ee=n(185),te=n(186),ne=[{label:"Centros de vacunaci\xf3n",children:[{label:"La Rioja",subLabel:"La Rioja Capital",href:"/centres"}]}],re=function(){var e=Object(H.c)("gray.600","gray.200"),t=Object(H.c)("gray.800","white"),n=Object(H.c)("white","gray.800");return Object(G.jsx)(J.a,{direction:"row",spacing:4,children:ne.map((function(r){var a;return Object(G.jsx)(F.a,{children:Object(G.jsxs)(V.a,{trigger:"hover",placement:"bottom-start",children:[Object(G.jsx)(V.c,{children:Object(G.jsx)(M.a,{as:i.b,p:2,to:null!==(a=r.href)&&void 0!==a?a:"#",fontSize:"sm",fontWeight:500,color:e,_hover:{textDecoration:"none",color:t},children:r.label})}),r.children&&Object(G.jsx)(V.b,{border:0,boxShadow:"xl",bg:n,p:4,rounded:"xl",minW:"sm",children:Object(G.jsx)(J.a,{children:r.children.map((function(e){return Object(G.jsx)(ae,Object(I.a)({},e),e.label)}))})})]})},r.label)}))})},ae=function(e){var t=e.label,n=e.href,r=e.subLabel;return Object(G.jsx)(M.a,{as:i.b,to:n,role:"group",display:"block",p:2,rounded:"md",_hover:{bg:Object(H.c)("pink.50","gray.900")},children:Object(G.jsxs)(J.a,{direction:"row",align:"center",children:[Object(G.jsxs)(F.a,{children:[Object(G.jsx)(U.a,{transition:"all .3s ease",_groupHover:{color:"pink.400"},fontWeight:500,children:t}),Object(G.jsx)(U.a,{fontSize:"sm",children:r})]}),Object(G.jsx)(N.a,{transition:"all .3s ease",transform:"translateX(-10px)",opacity:0,_groupHover:{opacity:"100%",transform:"translateX(0)"},justify:"flex-end",align:"center",flex:1,children:Object(G.jsx)(q.a,{color:"pink.400",w:5,h:5,as:ee.a})})]})})},ce=function(e){var t=e.label,n=e.children,r=e.href,a=Object(W.a)(),c=a.isOpen,o=a.onToggle;return Object(G.jsxs)(J.a,{spacing:4,onClick:n&&o,children:[Object(G.jsxs)(N.a,{py:2,as:M.a,href:null!==r&&void 0!==r?r:"#",justify:"space-between",align:"center",_hover:{textDecoration:"none"},children:[Object(G.jsx)(U.a,{fontWeight:600,color:Object(H.c)("gray.600","gray.200"),children:t}),n&&Object(G.jsx)(q.a,{as:te.a,transition:"all .25s ease-in-out",transform:c?"rotate(180deg)":"",w:6,h:6})]}),Object(G.jsx)(X.a,{in:c,animateOpacity:!0,style:{marginTop:"0!important"},children:Object(G.jsx)(J.a,{mt:2,pl:4,borderLeft:1,borderStyle:"solid",borderColor:Object(H.c)("gray.200","gray.700"),align:"start",children:n&&n.map((function(e){return Object(G.jsx)(M.a,{py:2,to:e.href,as:i.b,children:e.label},e.label)}))})})]})},oe=function(){return Object(G.jsx)(J.a,{bg:Object(H.c)("white","gray.800"),p:4,display:{md:"none"},children:ne.map((function(e){return Object(G.jsx)(ce,Object(I.a)({},e),e.label)}))})},ie=Object(s.b)((function(e){return{loading:z(e),userData:A(e)}}))((function(){var e=Object(W.a)(),t=e.isOpen,n=e.onToggle,r=Object(H.b)(),a=r.colorMode,c=r.toggleColorMode;return Object(G.jsxs)(F.a,{children:[Object(G.jsxs)(N.a,{bg:Object(H.c)("white","gray.800"),color:Object(H.c)("gray.600","white"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:Object(H.c)("gray.200","gray.900"),align:"center",children:[Object(G.jsx)(N.a,{flex:{base:1,md:"auto"},ml:{base:-2},display:{base:"flex",md:"none"},children:Object(G.jsx)(B.a,{onClick:n,icon:t?Object(G.jsx)(Q.a,{w:3,h:3}):Object(G.jsx)(Y.a,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})}),Object(G.jsxs)(N.a,{flex:{base:1},justify:{base:"center",md:"start"},children:[Object(G.jsx)(M.a,{as:i.b,to:"/",children:Object(G.jsx)(U.a,{textAlign:Object(P.a)({base:"center",md:"left"}),fontFamily:"heading",color:Object(H.c)("gray.800","white"),children:"Covid Info"})}),Object(G.jsx)(N.a,{display:{base:"none",md:"flex"},ml:10,children:Object(G.jsx)(re,{})})]}),Object(G.jsxs)(J.a,{flex:{base:1,md:0},justify:"flex-end",direction:"row",spacing:6,children:[Object(G.jsx)(B.a,{icon:"light"===a?Object(G.jsx)(Z.a,{}):Object(G.jsx)($.a,{}),isRound:"true",size:"lg",alignSelf:"flex-end",onClick:c}),Object(G.jsx)(K.a,{as:i.b,display:{base:"none",md:"inline-flex"},fontSize:"sm",fontWeight:600,color:"white",bg:"pink.400",to:"/login",_hover:{bg:"pink.300"},children:"Iniciar Sesi\xf3n"})]})]}),Object(G.jsx)(X.a,{in:t,animateOpacity:!0,children:Object(G.jsx)(oe,{})})]})})),se=n(187),ue=n(188),le=function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get(f.vaccinationCentres());case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be="GET_CENTRES_LOADING",je="GET_CENTRES_OK",de="GET_CENTRES_ERROR",he=function(e){return{type:je,payload:e}},pe=function(e){return e.centresReducer.centres},fe=function(e){return e.centresReducer.loading},Oe=function(e){var t=e.centres;return Object(G.jsx)("ul",{children:t.map((function(e){var t=e._id,n=e.name,r=e.adress,a=e.img,c=e.coordenades;return Object(G.jsx)("li",{children:"".concat(n," ").concat(r," ").concat(a," ").concat(c.lon)},t)}))})},xe=Object(s.b)((function(e){return{loading:fe(e),centres:pe(e)}}),(function(e){return{loadCentres:function(){return e(function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:be}),e.prev=1,e.next=4,le();case 4:n=e.sent,t(he(n)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r=e.t0.message,t({type:de,payload:r});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.loadCentres,n=e.loading,a=e.centres;return Object(r.useEffect)((function(){t()}),[]),Object(G.jsxs)("div",{children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(se.a,{isLoaded:!n,children:Object(G.jsx)(ue.a,{children:"Centros de Vacunaci\xf3n"})})}),a.length>0&&Object(G.jsx)(Oe,{centres:a})]})})),ge=function(){return Object(G.jsx)("div",{children:"Pagina Home"})},ve="https://covidcentre.herokuapp.com/api",ye=function(){return Object(G.jsxs)(J.b,{width:"100vw",height:"100vh",spacing:6,children:[Object(G.jsx)(ue.a,{children:"Inicia sesi\xf3n"}),Object(G.jsxs)(J.a,{flex:{base:1},spacing:6,children:[Object(G.jsx)(M.a,{display:{base:"inline-flex"},fontSize:"sm",fontWeight:600,color:"white",bg:"blue.400",href:"".concat(ve,"/auth/google"),_hover:{bg:"blue.300"},children:"Iniciar Sesi\xf3n con Google"}),Object(G.jsx)(M.a,{display:{base:"inline-flex"},fontSize:"sm",fontWeight:600,color:"white",bg:"blue.400",href:"".concat(ve,"/auth/github"),_hover:{bg:"blue.300"},children:"Iniciar Sesi\xf3n con Github"})]})]})},me=Object(s.b)(null,(function(e){return{loadUserData:function(){return e(function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:R}),e.prev=1,e.next=4,_();case 4:n=e.sent,t(D(n)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r=e.t0.message,t({type:S,payload:r});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.loadUserData;return Object(r.useEffect)((function(){t()}),[]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ie,{}),Object(G.jsxs)(b.c,{children:[Object(G.jsx)(b.a,{exact:!0,path:"/",component:ge}),Object(G.jsx)(b.a,{exact:!0,path:"/login",component:ye}),Object(G.jsx)(b.a,{exact:!0,path:"/centres",render:function(){return Object(G.jsx)(L,{Component:xe})}})]})]})})),we=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,197)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},Ce=n(19),ke=n(56),Te=n(107),_e=(n(155),n(108)),Re={loading:!1,centres:[],error:null},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case be:return Object(I.a)(Object(I.a)({},e),{},{loading:!0,centres:[],error:null});case je:return Object(I.a)(Object(I.a)({},e),{},{loading:!1,centres:r});case de:return Object(I.a)(Object(I.a)({},e),{},{loading:!1,error:r});default:return e}},Se={loading:!1,userData:{},error:null},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case R:return Object(I.a)(Object(I.a)({},e),{},{loading:!0,userData:{},error:null});case E:case S:return Object(I.a)(Object(I.a)({},e),{},{loading:!1,userData:r});default:return e}},Ae=Object(ke.combineReducers)({root:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},centresReducer:Ee,authReducer:De}),ze=[Te.a,!1].filter(Boolean),Ge=Object(ke.createStore)(Ae,Object(_e.composeWithDevTools)(ke.applyMiddleware.apply(void 0,Object(Ce.a)(ze))));n(156),n(157);o.a.render(Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(s.a,{store:Ge,children:Object(G.jsxs)(u.a,{children:[Object(G.jsx)(l.a,{initialColorMode:"light"}),Object(G.jsx)(i.a,{children:Object(G.jsx)(me,{})})]})})}),document.getElementById("root")),we()}},[[158,1,2]]]);
//# sourceMappingURL=main.30153731.chunk.js.map