(this["webpackJsonptrabajo-final-react"]=this["webpackJsonptrabajo-final-react"]||[]).push([[0],{220:function(e,t,n){},221:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(52),o=n.n(c),i=n(31),s=n(24),l=n(271),u=n(268),d=n(21),j=n(264),b=n(7),p=n.n(b),h=n(15),O="https://covidinfo.onrender.com/api",f={center:function(e){return"".concat(O,"/vaccinationcentres/").concat(e)},vaccinationCenters:function(){return"".concat(O,"/vaccinationcentres")},auth:function(){return"".concat(O,"/auth")}},m=n(133),x=n.n(m),g=n(86),v=n.n(g),y="Bearer ".concat(v.a.get("token")),w=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x()(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"get",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:y}},e.next=3,w(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"post",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:y}},e.next=3,w(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"delete",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:y}},e.next=3,w(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"put",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:y}},e.next=3,w(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C(e,t)},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S(e,t)},delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E(e,t)},put:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(e,t)}},z=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get(f.auth());case 2:return t=e.sent,n=t.user,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D="GET_AUTH_OK",R="GET_AUTH_ERROR",T=function(e){return{type:D,payload:e}},N=function(e){return e.authReducer.userData},L=function(e){return e.authReducer.loading},A=n(136),I=n(135),W=n(239),F=n(241),q=n(272),B=n(151),M=n(243),U=n(244),G=n(245),H=n(2),K="https://covidinfo.onrender.com/api",V=function(){return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(W.a,{mt:14,children:Object(H.jsx)(F.a,{children:"Iniciar sesi\xf3n"})}),Object(H.jsx)(W.a,{p:8,children:Object(H.jsxs)(q.a,{spacing:2,align:"center",maxW:"md",w:"full",children:[Object(H.jsx)(B.a,{as:M.a,w:"full",variant:"outline",leftIcon:Object(H.jsx)(I.a,{}),href:"".concat(K,"/auth/github"),children:Object(H.jsx)(W.a,{children:Object(H.jsx)(U.a,{children:"Iniciar sesi\xf3n con Github"})})}),Object(H.jsx)(B.a,{as:M.a,w:"full",variant:"outline",leftIcon:Object(H.jsx)(A.a,{}),href:"".concat(K,"/auth/google"),children:Object(H.jsx)(W.a,{children:Object(H.jsx)(U.a,{children:"Iniciar sesi\xf3n con Google"})})}),Object(H.jsxs)(q.b,{children:[Object(H.jsx)(G.a,{children:"Las cuentas de github se crean con acceso administrativo"}),Object(H.jsx)(G.a,{children:"Las cuentas de google se crean con acceso de usuario"})]})]})})]})},P=Object(s.b)((function(e){return{userData:N(e)}}))((function(e){var t=e.Component,n=e.userData;return"User"===(null===n||void 0===n?void 0:n.roles)||"Admin"===(null===n||void 0===n?void 0:n.roles)?Object(H.jsx)(t,{}):Object(H.jsx)(V,{})})),J=Object(s.b)((function(e){return{userData:N(e)}}))((function(e){var t=e.Component,n=e.userData;return(null===n||void 0===n?void 0:n.roles)?"Admin"===(null===n||void 0===n?void 0:n.roles)?Object(H.jsx)(t,{}):Object(H.jsx)(W.a,{mt:"6",children:Object(H.jsx)(U.a,{children:"Requiere rol de Administrador"})}):Object(H.jsx)(V,{})})),X=n(10),Y=n(273),Z=n(226),Q=n(246),$=n(247),ee=n(248),te=n(225),ne=n(253),re=n(269),ae=n(98),ce=n(249),oe=n(250),ie=n(251),se=n(252),le=n(257),ue=n(258),de=function(e){var t=e.mobile;return Object(H.jsx)(B.a,{as:i.b,display:{base:t?"inline-flex":"none",md:t?"none":"inline-flex"},fontSize:"sm",fontWeight:600,color:"white",bg:"pink.400",to:"/login",_hover:{bg:"pink.300"},children:"Iniciar Sesi\xf3n"})},je=function(e){var t=e.mobile;return Object(H.jsx)(B.a,{as:M.a,display:{base:t?"inline-flex":"none",md:t?"none":"inline-flex"},onClick:function(){return v.a.remove("token")},fontSize:"sm",fontWeight:600,color:"white",bg:"pink.400",href:"https://covidinfo.onrender.com/",_hover:{bg:"red.300"},children:"Cerrar Sesi\xf3n"})},be=function(e){return[{label:"Centros de vacunaci\xf3n",children:[{label:"La Rioja",href:"/centers"}]},"Admin"===(null===e||void 0===e?void 0:e.roles)?{label:"Administrar",children:[{label:"Centros de vacunaci\xf3n",href:"/admin/centers"}]}:null]},pe=function(e){var t=e.userData,n=Object(Z.c)("gray.600","gray.200"),r=Object(Z.c)("gray.800","white"),a=Object(Z.c)("white","gray.800"),c=be(t);return Object(H.jsx)(q.a,{direction:"row",spacing:4,children:c.map((function(e){var t;return e&&Object(H.jsx)(Q.a,{children:Object(H.jsxs)(re.a,{trigger:"hover",placement:"bottom-start",children:[Object(H.jsx)(re.c,{children:Object(H.jsx)(M.a,{as:i.b,p:2,to:null!==(t=e.href)&&void 0!==t?t:"#",fontSize:"sm",fontWeight:500,color:n,_hover:{textDecoration:"none",color:r},children:e.label})}),e.children&&Object(H.jsx)(re.b,{border:0,boxShadow:"xl",bg:a,p:4,rounded:"xl",minW:"sm",children:Object(H.jsx)(q.a,{children:e.children.map((function(e){return Object(H.jsx)(he,Object(X.a)({},e),e.label)}))})})]})},e.label)}))})},he=function(e){var t=e.label,n=e.href;return Object(H.jsx)(M.a,{as:i.b,to:n,role:"group",display:"block",p:2,rounded:"md",_hover:{bg:Object(Z.c)("pink.50","gray.900")},children:Object(H.jsxs)(q.a,{direction:"row",align:"center",children:[Object(H.jsx)(Q.a,{children:Object(H.jsx)(U.a,{transition:"all .3s ease",_groupHover:{color:"pink.400"},fontWeight:500,children:t})}),Object(H.jsx)($.a,{transition:"all .3s ease",transform:"translateX(-10px)",opacity:0,_groupHover:{opacity:"100%",transform:"translateX(0)"},justify:"flex-end",align:"center",flex:1,children:Object(H.jsx)(ae.a,{color:"pink.400",w:5,h:5,as:le.a})})]})})},Oe=function(e){var t=e.label,n=e.children,r=e.href,a=Object(Y.a)(),c=a.isOpen,o=a.onToggle;return Object(H.jsxs)(q.a,{spacing:4,onClick:n&&o,children:[Object(H.jsxs)($.a,{py:2,as:M.a,href:null!==r&&void 0!==r?r:"#",justify:"space-between",align:"center",_hover:{textDecoration:"none"},children:[Object(H.jsx)(U.a,{fontWeight:600,color:Object(Z.c)("gray.600","gray.200"),children:t}),n&&Object(H.jsx)(ae.a,{as:ue.a,transition:"all .25s ease-in-out",transform:c?"rotate(180deg)":"",w:6,h:6})]}),Object(H.jsx)(ne.a,{in:c,animateOpacity:!0,style:{marginTop:"0!important"},children:Object(H.jsx)(q.a,{mt:2,pl:4,borderLeft:1,borderStyle:"solid",borderColor:Object(Z.c)("gray.200","gray.700"),align:"start",children:n&&n.map((function(e){return Object(H.jsx)(M.a,{py:2,to:e.href,as:i.b,children:e.label},e.label)}))})})]})},fe=function(e){var t=e.userData,n=be(t);return Object(H.jsxs)(q.a,{bg:Object(Z.c)("white","gray.800"),p:4,display:{base:"flex",md:"none"},children:[n.map((function(e){return e&&Object(H.jsx)(Oe,Object(X.a)({},e),e.label)})),t?Object(H.jsx)(je,{mobile:!0}):Object(H.jsx)(de,{mobile:!0})]})},me=Object(s.b)((function(e){return{loading:L(e),userData:N(e)}}))((function(e){var t=e.userData,n=Object(Y.a)(),r=n.isOpen,a=n.onToggle,c=Object(Z.b)(),o=c.colorMode,s=c.toggleColorMode;return Object(H.jsxs)(Q.a,{children:[Object(H.jsxs)($.a,{bg:Object(Z.c)("white","gray.800"),color:Object(Z.c)("gray.600","white"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:Object(Z.c)("gray.200","gray.900"),align:"center",children:[Object(H.jsx)($.a,{flex:{base:1,md:"auto"},ml:{base:-2},display:{base:"flex",md:"none"},children:Object(H.jsx)(ee.a,{onClick:a,icon:r?Object(H.jsx)(ce.a,{w:3,h:3}):Object(H.jsx)(oe.a,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})}),Object(H.jsxs)($.a,{flex:{base:1},justify:{base:"center",md:"start"},children:[Object(H.jsx)(M.a,{as:i.b,to:"/",children:Object(H.jsx)(U.a,{textAlign:Object(te.a)({base:"center",md:"left"}),fontFamily:"heading",color:Object(Z.c)("gray.800","white"),children:"Covid Info"})}),Object(H.jsx)($.a,{display:{base:"none",md:"flex"},ml:10,children:Object(H.jsx)(pe,{userData:t})})]}),Object(H.jsxs)(q.a,{flex:{base:1,md:0},justify:"flex-end",align:"center",direction:"row",spacing:6,children:[Object(H.jsx)(ee.a,{icon:"light"===o?Object(H.jsx)(ie.a,{}):Object(H.jsx)(se.a,{}),isRound:"true",size:"lg",alignSelf:"flex-end",onClick:s}),t?Object(H.jsx)(je,{mobile:!1}):Object(H.jsx)(de,{mobile:!1})]})]}),Object(H.jsx)(ne.a,{in:r,animateOpacity:!0,children:Object(H.jsx)(fe,{userData:t})})]})})),xe=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get(f.center(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.put(f.center(t),n);case 2:return r=e.sent,a=r.updated,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.delete(f.center(t));case 2:return n=e.sent,r=n.deleted,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post(f.vaccinationCenters(),t);case 2:return n=e.sent,r=n.added,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get(f.vaccinationCenters());case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce="ONECENTER_LOADING",Se="ONECENTER_ERROR",Ee="GET_ONECENTER_OK",ke="DELETE_ONECENTER_OK",_e="UPDATE_ONECENTER_OK",ze="CREATE_ONECENTER_OK",De="CENTERS_LOADING",Re="CENTERS_ERROR",Te="GET_CENTERS_OK",Ne=function(){return{type:Ce}},Le=function(e){return{type:Se,payload:e}},Ae=function(e){return{type:Ee,payload:e}},Ie=function(e){return{type:ke,payload:e}},We=function(e){return{type:_e,payload:e}},Fe=function(e){return{type:ze,payload:e}},qe=function(e){return{type:Te,payload:e}},Be=function(e){return e.centerReducer.center},Me=function(e){return e.centerReducer.loading},Ue=function(e){return e.centerReducer.centers},Ge=n(274),He=function(e){var t=e.centers,n=Object(Z.c)("white","gray.800");return Object(H.jsx)(H.Fragment,{children:t.map((function(e){var t=e._id,r=e.name,a=e.adress,c=e.img;return Object(H.jsx)(W.a,{py:12,children:Object(H.jsxs)(Q.a,{role:"group",p:6,maxW:"330px",w:"full",bg:n,boxShadow:"2xl",rounded:"lg",pos:"relative",zIndex:1,as:i.b,to:"/center/".concat(t),children:[Object(H.jsx)(Q.a,{rounded:"lg",mt:-12,pos:"relative",height:"230px",_after:{transition:"all .3s ease",content:'""',w:"full",h:"full",pos:"absolute",top:5,left:0,backgroundImage:"url(".concat(c,")"),filter:"blur(15px)",zIndex:-1},_groupHover:{_after:{filter:"blur(20px)"}},children:Object(H.jsx)(Ge.a,{rounded:"lg",height:230,width:282,objectFit:"cover",src:c})}),Object(H.jsxs)(q.a,{pt:10,align:"center",children:[Object(H.jsx)(U.a,{align:"center",color:"gray.500",fontSize:"sm",textTransform:"uppercase",children:a}),Object(H.jsx)(F.a,{align:"center",fontSize:"2xl",fontFamily:"body",fontWeight:500,children:r})]})]})},t)}))})},Ke=n(5),Ve=n(259),Pe=n(23),Je=n(134),Xe=n(140),Ye=n(141),Ze=function(e){var t=e.center,n=e.tid,r=e.onOpenModal,a=e.onOpenAlert,c=t._id,o=t.name,i=t.creation_date,s=Object(Z.c)("gray.100","gray.700"),l=Object(Z.c)("gray.500","gray.600");return Object(H.jsxs)($.a,{direction:{base:"row",md:"column"},bg:Object(Z.c)("white","gray.800"),children:[Object(te.a)({base:!0,md:0===n})&&Object(H.jsxs)(Ve.a,{spacingY:3,columns:{base:1,md:3},w:{base:120,md:"full"},textTransform:"uppercase",bg:s,color:l,py:{base:1,md:4},px:{base:2,md:10},fontSize:"md",fontWeight:"hairline",children:[Object(H.jsx)("span",{children:"Nombre"}),Object(H.jsx)(Pe.a.span,{textAlign:{md:"center"},columns:1,children:"Creado"}),Object(H.jsx)(Pe.a.span,{textAlign:{md:"right"},columns:1,children:"Acciones"})]}),Object(H.jsxs)(Ve.a,{spacingY:3,columns:{base:1,md:3},w:"full",py:2,px:10,fontWeight:"hairline",children:[Object(H.jsx)("span",{children:o}),Object(H.jsx)(Pe.a.span,{textOverflow:"ellipsis",textAlign:{md:"center"},overflow:"hidden",whiteSpace:"nowrap",children:i}),Object(H.jsx)($.a,{justify:{md:"start"},children:Object(H.jsxs)(Je.a,{variant:"solid",size:"sm",spacing:3,justifyContent:"flex-end",w:{base:"auto",md:"full"},children:[Object(H.jsx)(ee.a,{colorScheme:"green",icon:Object(H.jsx)(Xe.a,{}),"aria-label":"Edit Center",onClick:function(){return r(t)}}),Object(H.jsx)(ee.a,{colorScheme:"red",variant:"outline",icon:Object(H.jsx)(Ye.a,{}),"aria-label":"Delete Center",onClick:function(){return a(o,c)}})]})})]})]})},Qe=n(51),$e=n(139),et=n(62),tt=n(260),nt=n(261),rt=n(275),at=n(262),ct=n(61),ot=n(152),it=n(64),st=n.n(it),lt=st.a.object({img:st.a.string().uri().trim().required().messages({"string.base":"La url debe ser texto","string.empty":"La url no puede estar vacia","string.min":"La url debe tener un minimo de 5 caracteres","string.max":"La url debe tener un maximo de 30 caracteres","any.required":"La url es un campo requrido"}),coordenades:st.a.object({lat:st.a.number().required().messages({"number.base":"Latitud debe ser un numero","number.empty":"Latitud no puede estar vacio","any.required":"Latitud es un campo requrido"}),lon:st.a.number().required().messages({"number.base":"Longitud debe ser un numero","number.empty":"Longitud no puede estar vacio","any.required":"Longitud es un campo requrido"})}).required(),adress:st.a.string().trim().required().min(5).max(50).messages({"string.base":"Direccion debe ser texto","string.empty":"Direccion no puede estar vacio","string.min":"Direccion debe tener un minimo de 5 caracteres","string.max":"Direccion debe tener un maximo de 50 caracteres","any.required":"Direccion es un campo requrido"}),name:st.a.string().trim().required().min(5).max(30).messages({"string.base":"Nombre debe ser texto","string.empty":"Nombre no puede estar vacio","string.min":"Nombre debe tener un minimo de 5 caracteres","string.max":"Nombre debe tener un maximo de 30 caracteres","any.required":"Nombre es un campo requrido"})}),ut=function(e){var t,n,a,c,o,i,s=e.center,l=e.onSubmit,u=s||{},d=u.name,j=u.img,b=u.adress,p=u.coordenades,h=Object(r.useState)(""),O=Object(Ke.a)(h,2),f=O[0],m=O[1],x=Object(ct.d)({resolver:Object(ot.a)(lt)}),g=x.handleSubmit,v=x.register,y=x.formState,w=y.errors,C=y.isSubmitting;return Object(H.jsx)(Q.a,{children:Object(H.jsx)(Q.a,{mt:10,children:Object(H.jsxs)(Ve.a,{display:{base:"initial",md:"grid"},columns:{md:3},spacing:{md:6},children:[Object(H.jsx)($e.b,{colSpan:{md:1},children:Object(H.jsxs)(Q.a,{px:[4,0],children:[Object(H.jsx)(F.a,{align:"center",fontSize:"lg",fontWeight:"medium",lineHeight:"6",children:"Administrar centro de vacunaci\xf3n"}),j?Object(H.jsx)(Ge.a,{rounded:"lg",height:230,width:282,objectFit:"cover",src:j}):Object(H.jsx)(Ge.a,{rounded:"lg",height:230,width:282,objectFit:"cover",src:f})]})}),Object(H.jsx)($e.b,{mt:[5,null,0],colSpan:{md:2},children:Object(H.jsxs)(Pe.a.form,{onSubmit:g(l),shadow:"base",rounded:[null,"md"],overflow:{sm:"hidden"},children:[Object(H.jsx)(q.a,{px:4,py:5,p:[null,6],bg:Object(Z.c)("white","gray.700"),spacing:6,children:Object(H.jsxs)(Ve.a,{columns:6,spacing:6,children:[Object(H.jsxs)(et.a,{as:$e.b,colSpan:6,isInvalid:w.img,children:[Object(H.jsx)(tt.a,{htmlFor:"img",fontSize:"sm",fontWeight:"md",color:Object(Z.c)("gray.700","gray.50"),children:"Url de la imagen"}),Object(H.jsx)(nt.a,{size:"sm",children:Object(H.jsx)(rt.a,Object(X.a)({type:"url",placeholder:"https://www.ejemplo.com",defaultValue:j,onChange:function(e){return m(e.target.value)},focusBorderColor:"brand.400",shadow:"sm",size:"sm",name:"img",id:"img",mt:1,w:"full",rounded:"md"},v("img")))}),Object(H.jsx)(at.a,{children:w.img&&w.img.message})]}),Object(H.jsxs)(et.a,{as:$e.b,colSpan:6,isInvalid:w.name,children:[Object(H.jsx)(tt.a,{htmlFor:"name",fontSize:"sm",fontWeight:"md",color:Object(Z.c)("gray.700","gray.50"),children:"Nombre"}),Object(H.jsx)(rt.a,Object(X.a)({type:"text",placeholder:"Nombre",defaultValue:d,focusBorderColor:"brand.400",shadow:"sm",size:"sm",name:"name",id:"name",mt:1,w:"full",rounded:"md"},v("name"))),Object(H.jsx)(at.a,{children:w.name&&w.name.message})]}),Object(H.jsxs)(et.a,{as:$e.b,colSpan:6,isInvalid:w.adress,children:[Object(H.jsx)(tt.a,{htmlFor:"adress",fontSize:"sm",fontWeight:"md",color:Object(Z.c)("gray.700","gray.50"),children:"Direcci\xf3n"}),Object(H.jsx)(rt.a,Object(X.a)({type:"text",name:"adress",id:"adress",placeholder:"Ej. San Nicolas de Bari 255",defaultValue:b,mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md"},v("adress"))),Object(H.jsx)(at.a,{children:w.adress&&w.adress.message})]}),Object(H.jsxs)(et.a,{as:$e.b,colSpan:[3,4],isInvalid:null===(t=w.coordenades)||void 0===t?void 0:t.lat,children:[Object(H.jsx)(tt.a,{htmlFor:"coordenades.lat",fontSize:"sm",fontWeight:"md",color:Object(Z.c)("gray.700","gray.50"),children:"Latitud"}),Object(H.jsx)(rt.a,Object(X.a)({type:"number",step:"0.000000000001",name:"coordenades.lat",id:"coordenades.lat",placeholder:"Ej. -66.8919548",defaultValue:null===p||void 0===p?void 0:p.lat,mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md"},v("coordenades.lat",{valueasnumber:!0}))),Object(H.jsx)(at.a,{children:(null===(n=w.coordenades)||void 0===n?void 0:n.lat)&&(null===(a=w.coordenades)||void 0===a?void 0:a.lat.message)})]}),Object(H.jsxs)(et.a,{as:$e.b,colSpan:[3,4],isInvalid:null===(c=w.coordenades)||void 0===c?void 0:c.lon,children:[Object(H.jsx)(tt.a,{htmlFor:"coordenades.lon",fontSize:"sm",fontWeight:"md",color:Object(Z.c)("gray.700","gray.50"),children:"Longitud"}),Object(H.jsx)(rt.a,Object(X.a)({type:"number",step:"0.000000000001",name:"coordenades.lon",id:"coordenades.lon",placeholder:"Ej. -22.3454789",defaultValue:null===p||void 0===p?void 0:p.lon,mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md"},v("coordenades.lon",{valueasnumber:!0}))),Object(H.jsx)(at.a,{children:(null===(o=w.coordenades)||void 0===o?void 0:o.lon)&&(null===(i=w.coordenades)||void 0===i?void 0:i.lon.message)})]})]})}),Object(H.jsx)(Q.a,{px:{base:4,sm:6},py:3,bg:Object(Z.c)("gray.50","gray.900"),textAlign:"right",children:Object(H.jsx)(B.a,{type:"submit",_focus:{shadow:""},fontWeight:"md",isLoading:C,children:"Enviar"})})]})})]})})})},dt=Object(s.b)(null,(function(e){return{updateCenter:function(t,n){return e(function(e,t){return function(){var n=Object(h.a)(p.a.mark((function n(r){var a,c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Ne()),n.prev=1,n.next=4,ge(e,t);case 4:a=n.sent,r(We(a)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),c=n.t0.message,r(Le(c));case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},createCenter:function(t){return e(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var r,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ne()),t.prev=1,t.next=4,ye(e);case 4:r=t.sent,n(Fe(r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.message,n(Le(a));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.isOpen,n=e.onClose,r=e.center,a=e.title,c=e.createCenter,o=e.updateCenter,i=(r||{})._id;return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(Qe.a,{closeOnOverlayClick:!1,isOpen:t,onClose:n,size:"xl",children:[Object(H.jsx)(Qe.g,{}),Object(H.jsxs)(Qe.d,{children:[Object(H.jsx)(Qe.f,{children:a}),Object(H.jsx)(Qe.c,{}),Object(H.jsx)(Qe.b,{pb:6,children:Object(H.jsx)(ut,{center:r,onSubmit:function(e){var t=e.name,n=e.img,r={name:t,adress:e.adress,img:n,coordenades:e.coordenades};"Editar centro"!==a?c(r):o(i,r)}})})]})]})})})),jt=n(263),bt=Object(s.b)(null,(function(e){return{deleteCenter:function(t){return e(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var r,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ne()),t.prev=1,t.next=4,ve(e);case 4:r=t.sent,n(Ie(r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.message,n(Le(a));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.isOpen,n=e.onClose,a=e.name,c=e.deleteCenter,o=e.id,i=Object(r.useRef)();return Object(H.jsx)(jt.a,{isOpen:t,leastDestructiveRef:i,onClose:n,children:Object(H.jsx)(Qe.g,{children:Object(H.jsxs)(jt.b,{children:[Object(H.jsx)(Qe.f,{fontSize:"lg",fontWeight:"bold",children:"Borrar Centro"}),Object(H.jsx)(Qe.b,{children:"\xbfEstas seguro de querer eliminar el centro ".concat(a,"?")}),Object(H.jsxs)(Qe.e,{children:[Object(H.jsx)(B.a,{ref:i,onClick:n,children:"Cancelar"}),Object(H.jsx)(B.a,{colorScheme:"red",onClick:function(){n(),c(o)},ml:3,children:"Borrar"})]})]})})})})),pt=function(e){var t=e.centers,n=Object(Z.c)("white","gray.800"),a=Object(Y.a)(),c=a.isOpen,o=a.onOpen,i=a.onClose,s=Object(Y.a)(),l=s.isOpen,u=s.onOpen,d=s.onClose,j=Object(r.useState)(""),b=Object(Ke.a)(j,2),p=b[0],h=b[1],O=Object(r.useState)(""),f=Object(Ke.a)(O,2),m=f[0],x=f[1],g=Object(r.useState)(""),v=Object(Ke.a)(g,2),y=v[0],w=v[1],C=Object(r.useState)({}),S=Object(Ke.a)(C,2),E=S[0],k=S[1],_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w((null===e||void 0===e?void 0:e.name)?"Editar centro":"Crear centro"),k(e),o()},z=function(e,t){h(e),x(t),u()};return Object(H.jsxs)($.a,{w:"full",bg:{md:n},p:50,alignItems:"center",justifyContent:"center",flexDirection:"column",children:[Object(H.jsx)(B.a,{alignSelf:"flex-end",my:"6",onClick:_,children:"Crear Nuevo Centro"}),Object(H.jsx)(q.a,{direction:{base:"column"},w:"full",bg:{md:Object(Z.c)("white","gray.800")},shadow:"lg",children:t.map((function(e,t){return Object(H.jsx)(Ze,{center:e,tid:t,onOpenAlert:z,onOpenModal:_},t)}))}),Object(H.jsx)(bt,{isOpen:l,onClose:d,name:p,id:m}),Object(H.jsx)(dt,{isOpen:c,onClose:i,center:E,title:y})]})},ht=Object(s.b)((function(e){return{loading:Me(e),centers:Ue(e)}}),(function(e){return{loadCenters:function(){return e(function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:De}),e.prev=1,e.next=4,we();case 4:n=e.sent,t(qe(n)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r=e.t0.message,t({type:Re,payload:r});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.loadCenters,n=e.loading,a=e.centers,c=Object(d.f)().pathname;return Object(r.useEffect)((function(){t()}),[t]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Q.a,{children:Object(H.jsx)(W.a,{mt:"6",children:Object(H.jsx)(F.a,{children:"Centros de Vacunaci\xf3n"})})}),Object(H.jsxs)(j.a,{h:"100vh",isLoaded:!n,children:[a.length>0&&("/admin/centers"===c?Object(H.jsx)(pt,{centers:a}):Object(H.jsx)(He,{centers:a})),0===a.length&&Object(H.jsx)(W.a,{mt:"14",children:Object(H.jsx)(F.a,{children:"Sin centros de vacunaci\xf3n"})})]})]})})),Ot=function(e){var t=e.loading,n=e.center;return Object(H.jsx)(Q.a,{role:"group",p:6,maxW:"330px",w:"full",bg:Object(Z.c)("white","gray.800"),boxShadow:"2xl",rounded:"lg",pos:"relative",zIndex:1,children:Object(H.jsxs)(j.a,{isLoaded:!t,children:[Object(H.jsx)(Q.a,{rounded:"lg",mt:-12,pos:"relative",height:"230px",_after:{transition:"all .3s ease",content:'""',w:"full",h:"full",pos:"absolute",top:5,left:0,backgroundImage:"url(".concat(null===n||void 0===n?void 0:n.img,")"),filter:"blur(15px)",zIndex:-1},_groupHover:{_after:{filter:"blur(20px)"}},children:Object(H.jsx)(Ge.a,{rounded:"lg",height:230,width:282,objectFit:"cover",src:null===n||void 0===n?void 0:n.img})}),Object(H.jsxs)(q.a,{pt:10,align:"center",children:[Object(H.jsx)(U.a,{align:"center",color:"gray.500",fontSize:"sm",textTransform:"uppercase",children:null===n||void 0===n?void 0:n.adress}),Object(H.jsx)(F.a,{align:"center",fontSize:"2xl",fontFamily:"body",fontWeight:500,children:(null===n||void 0===n?void 0:n.name)||"Centro No encontrado"})]})]})})},ft=n(44),mt=n.n(ft),xt=n(265),gt=n(276),vt=n(266),yt=n(267),wt=n(143),Ct=n(144),St=mt.a.icon({iconUrl:Ct.a,shadowUrl:wt.a});mt.a.Marker.prototype.options.icon=St;var Et=function(e){var t=e.coordenades,n=e.loading,r=e.name,a=t||{},c=[a.lat||-29.412733839225506,a.lon||-66.85607393546375];return Object(H.jsx)(j.a,{isLoaded:!n,mt:"4",w:{base:"90vw",md:"40vw"},children:Object(H.jsxs)(xt.a,{center:c,zoom:16,scrollWheelZoom:!1,children:[Object(H.jsx)(gt.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(H.jsx)(vt.a,{position:c,children:Object(H.jsx)(yt.a,{children:r})})]})})},kt=Object(s.b)((function(e){return{loading:Me(e),center:Be(e)}}),(function(e){return{loadCenter:function(t){return e(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var r,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ne()),t.prev=1,t.next=4,xe(e);case 4:r=t.sent,n(Ae(r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.message,n(Le(a));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.loadCenter,n=e.center,a=e.loading,c=Object(d.g)().id;return Object(r.useEffect)((function(){t(c)}),[c,t]),Object(H.jsxs)(W.a,{py:12,flexDirection:{base:"column",md:"row"},mt:{base:"0",md:"9"},children:[Object(H.jsx)(Ot,{center:n,loading:a}),Object(H.jsx)(Et,{coordenades:null===n||void 0===n?void 0:n.coordenades,loading:a,name:null===n||void 0===n?void 0:n.name})]})})),_t=function(){return Object(H.jsx)(W.a,{h:"full",children:Object(H.jsx)(F.a,{children:"Bienvenido a Covid Center Info"})})},zt=function(){return Object(H.jsx)(W.a,{mt:"6",children:Object(H.jsx)(F.a,{children:"No encontrado"})})},Dt=Object(s.b)((function(e){return{loading:L(e)}}),(function(e){return{loadUserData:function(){return e(function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z();case 3:n=e.sent,t(T(n)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.message,t({type:R,payload:r});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.loadUserData,n=e.loading;return Object(r.useEffect)((function(){t()}),[t]),Object(H.jsxs)(j.a,{isLoaded:!n,h:"100vh",children:[Object(H.jsx)(me,{}),Object(H.jsxs)(d.c,{children:[Object(H.jsx)(d.a,{exact:!0,path:"/",component:_t}),Object(H.jsx)(d.a,{exact:!0,path:"/login",component:V}),Object(H.jsx)(d.a,{exact:!0,path:"/centers",render:function(){return Object(H.jsx)(P,{Component:ht})}}),Object(H.jsx)(d.a,{exact:!0,path:"/center/:id",render:function(){return Object(H.jsx)(P,{Component:kt})}}),Object(H.jsx)(d.a,{exact:!0,path:"/admin/centers",render:function(){return Object(H.jsx)(J,{Component:ht})}}),Object(H.jsx)(d.a,{exact:!0,path:"*",component:zt})]})]})})),Rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,277)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},Tt=n(16),Nt=n(74),Lt=n(145),At=(n(218),n(146)),It={loading:!1,center:null,error:null,centers:[],centersError:null},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ce:return Object(X.a)(Object(X.a)({},e),{},{loading:!0,center:null,error:null});case Se:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,error:r});case Ee:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,center:r});case ke:var a=e.centers.filter((function(e){return e._id!==r}));return Object(X.a)(Object(X.a)({},e),{},{loading:!1,centers:a});case _e:var c=e.centers.map((function(e){return e._id===r._id?r:e}));return Object(X.a)(Object(X.a)({},e),{},{loading:!1,centers:c});case ze:var o=e.centers.concat(r);return Object(X.a)(Object(X.a)({},e),{},{loading:!1,centers:o});case De:return Object(X.a)(Object(X.a)({},e),{},{loading:!0,centers:[],centersError:null});case Re:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,centersError:r});case Te:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,centers:r});default:return e}},Ft={loading:!0,userData:null,error:null},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case D:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,userData:r});case R:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,error:r});default:return e}},Bt=Object(Nt.combineReducers)({root:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},authReducer:qt,centerReducer:Wt}),Mt=[Lt.a,!1].filter(Boolean),Ut=Object(Nt.createStore)(Bt,Object(At.composeWithDevTools)(Nt.applyMiddleware.apply(void 0,Object(Tt.a)(Mt))));n(219),n(220);o.a.render(Object(H.jsx)(a.a.StrictMode,{children:Object(H.jsx)(s.a,{store:Ut,children:Object(H.jsxs)(l.a,{children:[Object(H.jsx)(u.a,{initialColorMode:"light"}),Object(H.jsx)(i.a,{children:Object(H.jsx)(Dt,{})})]})})}),document.getElementById("root")),Rt()}},[[221,1,2]]]);
//# sourceMappingURL=main.44dcfb6b.chunk.js.map