(this["webpackJsonptrabajo-final-react"]=this["webpackJsonptrabajo-final-react"]||[]).push([[0],{189:function(e,t,n){},190:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(51),o=n.n(c),i=n(30),s=n(23),l=n(239),u=n(236),d=n(19),j=n(232),b=n(8),h=n.n(b),p=n(18),f="https://covidcentre.herokuapp.com/api",O={center:function(e){return"".concat(f,"/vaccinationcentres/").concat(e)},vaccinationCenters:function(){return"".concat(f,"/vaccinationcentres")},auth:function(){return"".concat(f,"/auth")}},x=n(122),m=n.n(x),g=n(81),v=n.n(g),y="Bearer ".concat(v.a.get("token")),w=function(){var e=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"get",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:y}},e.next=3,w(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(p.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"post",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:y}},e.next=3,w(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"delete",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:y}},e.next=3,w(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"put",url:t,data:n,headers:{"Content-Type":"application/json",Authorization:y}},e.next=3,w(r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C(e,t)},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(e,t)},delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E(e,t)},put:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S(e,t)}},R=function(){var e=Object(p.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get(O.auth());case 2:return t=e.sent,n=t.user,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z="GET_AUTH_OK",T="GET_AUTH_ERROR",D=function(e){return{type:z,payload:e}},N=function(e){return e.authReducer.userData},A=function(e){return e.authReducer.loading},W=n(125),F=n(124),I=n(208),L=n(210),B=n(240),M=n(140),U=n(212),G=n(213),H=n(214),q=n(2),K="https://covidcentre.herokuapp.com/api",V=function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(I.a,{mt:14,children:Object(q.jsx)(L.a,{children:"Iniciar sesi\xf3n"})}),Object(q.jsx)(I.a,{p:8,children:Object(q.jsxs)(B.a,{spacing:2,align:"center",maxW:"md",w:"full",children:[Object(q.jsx)(M.a,{as:U.a,w:"full",variant:"outline",leftIcon:Object(q.jsx)(F.a,{}),href:"".concat(K,"/auth/github"),children:Object(q.jsx)(I.a,{children:Object(q.jsx)(G.a,{children:"Iniciar sesi\xf3n con Github"})})}),Object(q.jsx)(M.a,{as:U.a,w:"full",variant:"outline",leftIcon:Object(q.jsx)(W.a,{}),href:"".concat(K,"/auth/google"),children:Object(q.jsx)(I.a,{children:Object(q.jsx)(G.a,{children:"Iniciar sesi\xf3n con Google"})})}),Object(q.jsxs)(B.b,{children:[Object(q.jsx)(H.a,{children:"Las cuentas de github se crean con acceso administrativo"}),Object(q.jsx)(H.a,{children:"Las cuentas de google se crean con acceso de usuario"})]})]})})]})},P=Object(s.b)((function(e){return{userData:N(e)}}))((function(e){var t=e.Component,n=e.userData;return"User"===(null===n||void 0===n?void 0:n.roles)||"Admin"===(null===n||void 0===n?void 0:n.roles)?Object(q.jsx)(t,{}):Object(q.jsx)(V,{})})),J=Object(s.b)((function(e){return{userData:N(e)}}))((function(e){var t=e.Component,n=e.userData;return(null===n||void 0===n?void 0:n.roles)?"Admin"===(null===n||void 0===n?void 0:n.roles)?Object(q.jsx)(t,{}):Object(q.jsx)(I.a,{mt:"6",children:Object(q.jsx)(G.a,{children:"Requiere rol de Administrador"})}):Object(q.jsx)(V,{})})),X=n(10),Y=n(241),Z=n(195),Q=n(215),$=n(216),ee=n(217),te=n(194),ne=n(222),re=n(237),ae=n(101),ce=n(218),oe=n(219),ie=n(220),se=n(221),le=n(226),ue=n(227),de=function(e){var t=e.mobile;return Object(q.jsx)(M.a,{as:i.b,display:{base:t?"inline-flex":"none",md:t?"none":"inline-flex"},fontSize:"sm",fontWeight:600,color:"white",bg:"pink.400",to:"/login",_hover:{bg:"pink.300"},children:"Iniciar Sesi\xf3n"})},je=function(e){var t=e.mobile;return Object(q.jsx)(M.a,{as:U.a,display:{base:t?"inline-flex":"none",md:t?"none":"inline-flex"},onClick:function(){return v.a.remove("token")},fontSize:"sm",fontWeight:600,color:"white",bg:"pink.400",href:"https://covidcentre.herokuapp.com/",_hover:{bg:"red.300"},children:"Cerrar Sesi\xf3n"})},be=function(e){return[{label:"Centros de vacunaci\xf3n",children:[{label:"La Rioja",href:"/centers"}]},"Admin"===(null===e||void 0===e?void 0:e.roles)?{label:"Administrar",children:[{label:"Centros de vacunaci\xf3n",href:"/admin/centers"}]}:null]},he=function(e){var t=e.userData,n=Object(Z.c)("gray.600","gray.200"),r=Object(Z.c)("gray.800","white"),a=Object(Z.c)("white","gray.800"),c=be(t);return Object(q.jsx)(B.a,{direction:"row",spacing:4,children:c.map((function(e){var t;return e&&Object(q.jsx)(Q.a,{children:Object(q.jsxs)(re.a,{trigger:"hover",placement:"bottom-start",children:[Object(q.jsx)(re.c,{children:Object(q.jsx)(U.a,{as:i.b,p:2,to:null!==(t=e.href)&&void 0!==t?t:"#",fontSize:"sm",fontWeight:500,color:n,_hover:{textDecoration:"none",color:r},children:e.label})}),e.children&&Object(q.jsx)(re.b,{border:0,boxShadow:"xl",bg:a,p:4,rounded:"xl",minW:"sm",children:Object(q.jsx)(B.a,{children:e.children.map((function(e){return Object(q.jsx)(pe,Object(X.a)({},e),e.label)}))})})]})},e.label)}))})},pe=function(e){var t=e.label,n=e.href;return Object(q.jsx)(U.a,{as:i.b,to:n,role:"group",display:"block",p:2,rounded:"md",_hover:{bg:Object(Z.c)("pink.50","gray.900")},children:Object(q.jsxs)(B.a,{direction:"row",align:"center",children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(G.a,{transition:"all .3s ease",_groupHover:{color:"pink.400"},fontWeight:500,children:t})}),Object(q.jsx)($.a,{transition:"all .3s ease",transform:"translateX(-10px)",opacity:0,_groupHover:{opacity:"100%",transform:"translateX(0)"},justify:"flex-end",align:"center",flex:1,children:Object(q.jsx)(ae.a,{color:"pink.400",w:5,h:5,as:le.a})})]})})},fe=function(e){var t=e.label,n=e.children,r=e.href,a=Object(Y.a)(),c=a.isOpen,o=a.onToggle;return Object(q.jsxs)(B.a,{spacing:4,onClick:n&&o,children:[Object(q.jsxs)($.a,{py:2,as:U.a,href:null!==r&&void 0!==r?r:"#",justify:"space-between",align:"center",_hover:{textDecoration:"none"},children:[Object(q.jsx)(G.a,{fontWeight:600,color:Object(Z.c)("gray.600","gray.200"),children:t}),n&&Object(q.jsx)(ae.a,{as:ue.a,transition:"all .25s ease-in-out",transform:c?"rotate(180deg)":"",w:6,h:6})]}),Object(q.jsx)(ne.a,{in:c,animateOpacity:!0,style:{marginTop:"0!important"},children:Object(q.jsx)(B.a,{mt:2,pl:4,borderLeft:1,borderStyle:"solid",borderColor:Object(Z.c)("gray.200","gray.700"),align:"start",children:n&&n.map((function(e){return Object(q.jsx)(U.a,{py:2,to:e.href,as:i.b,children:e.label},e.label)}))})})]})},Oe=function(e){var t=e.userData,n=be(t);return Object(q.jsxs)(B.a,{bg:Object(Z.c)("white","gray.800"),p:4,display:{base:"flex",md:"none"},children:[n.map((function(e){return e&&Object(q.jsx)(fe,Object(X.a)({},e),e.label)})),t?Object(q.jsx)(je,{mobile:!0}):Object(q.jsx)(de,{mobile:!0})]})},xe=Object(s.b)((function(e){return{loading:A(e),userData:N(e)}}))((function(e){var t=e.userData,n=Object(Y.a)(),r=n.isOpen,a=n.onToggle,c=Object(Z.b)(),o=c.colorMode,s=c.toggleColorMode;return Object(q.jsxs)(Q.a,{children:[Object(q.jsxs)($.a,{bg:Object(Z.c)("white","gray.800"),color:Object(Z.c)("gray.600","white"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:Object(Z.c)("gray.200","gray.900"),align:"center",children:[Object(q.jsx)($.a,{flex:{base:1,md:"auto"},ml:{base:-2},display:{base:"flex",md:"none"},children:Object(q.jsx)(ee.a,{onClick:a,icon:r?Object(q.jsx)(ce.a,{w:3,h:3}):Object(q.jsx)(oe.a,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})}),Object(q.jsxs)($.a,{flex:{base:1},justify:{base:"center",md:"start"},children:[Object(q.jsx)(U.a,{as:i.b,to:"/",children:Object(q.jsx)(G.a,{textAlign:Object(te.a)({base:"center",md:"left"}),fontFamily:"heading",color:Object(Z.c)("gray.800","white"),children:"Covid Info"})}),Object(q.jsx)($.a,{display:{base:"none",md:"flex"},ml:10,children:Object(q.jsx)(he,{userData:t})})]}),Object(q.jsxs)(B.a,{flex:{base:1,md:0},justify:"flex-end",align:"center",direction:"row",spacing:6,children:[Object(q.jsx)(ee.a,{icon:"light"===o?Object(q.jsx)(ie.a,{}):Object(q.jsx)(se.a,{}),isRound:"true",size:"lg",alignSelf:"flex-end",onClick:s}),t?Object(q.jsx)(je,{mobile:!1}):Object(q.jsx)(de,{mobile:!1})]})]}),Object(q.jsx)(ne.a,{in:r,animateOpacity:!0,children:Object(q.jsx)(Oe,{userData:t})})]})})),me=function(){var e=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get(O.center(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(p.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put(O.center(t),n);case 2:return r=e.sent,a=r.updated,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete(O.center(t));case 2:return n=e.sent,r=n.deleted,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post(O.vaccinationCenters(),t);case 2:return n=e.sent,r=n.added,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get(O.vaccinationCenters());case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce="ONECENTER_LOADING",_e="ONECENTER_ERROR",Ee="GET_ONECENTER_OK",Se="DELETE_ONECENTER_OK",ke="UPDATE_ONECENTER_OK",Re="CREATE_ONECENTER_OK",ze="CENTERS_LOADING",Te="CENTERS_ERROR",De="GET_CENTERS_OK",Ne=function(){return{type:Ce}},Ae=function(e){return{type:_e,payload:e}},We=function(e){return{type:Ee,payload:e}},Fe=function(e){return{type:Se,payload:e}},Ie=function(e){return{type:ke,payload:e}},Le=function(e){return{type:Re,payload:e}},Be=function(e){return{type:De,payload:e}},Me=function(e){return e.centerReducer.center},Ue=function(e){return e.centerReducer.loading},Ge=function(e){return e.centerReducer.centers},He=n(242),qe=function(e){var t=e.centers,n=Object(Z.c)("white","gray.800");return Object(q.jsx)(q.Fragment,{children:t.map((function(e){var t=e._id,r=e.name,a=e.adress,c=e.img;return Object(q.jsx)(I.a,{py:12,children:Object(q.jsxs)(Q.a,{role:"group",p:6,maxW:"330px",w:"full",bg:n,boxShadow:"2xl",rounded:"lg",pos:"relative",zIndex:1,as:i.b,to:"/center/".concat(t),children:[Object(q.jsx)(Q.a,{rounded:"lg",mt:-12,pos:"relative",height:"230px",_after:{transition:"all .3s ease",content:'""',w:"full",h:"full",pos:"absolute",top:5,left:0,backgroundImage:"url(".concat(c,")"),filter:"blur(15px)",zIndex:-1},_groupHover:{_after:{filter:"blur(20px)"}},children:Object(q.jsx)(He.a,{rounded:"lg",height:230,width:282,objectFit:"cover",src:c})}),Object(q.jsxs)(B.a,{pt:10,align:"center",children:[Object(q.jsx)(G.a,{align:"center",color:"gray.500",fontSize:"sm",textTransform:"uppercase",children:a}),Object(q.jsx)(L.a,{align:"center",fontSize:"2xl",fontFamily:"body",fontWeight:500,children:r})]})]})},t)}))})},Ke=n(5),Ve=n(228),Pe=n(22),Je=n(123),Xe=n(129),Ye=n(130),Ze=function(e){var t=e.center,n=e.tid,r=e.onOpenModal,a=e.onOpenAlert,c=t._id,o=t.name,i=t.creation_date,s=Object(Z.c)("gray.100","gray.700"),l=Object(Z.c)("gray.500","gray.600");return Object(q.jsxs)($.a,{direction:{base:"row",md:"column"},bg:Object(Z.c)("white","gray.800"),children:[Object(te.a)({base:!0,md:0===n})&&Object(q.jsxs)(Ve.a,{spacingY:3,columns:{base:1,md:3},w:{base:120,md:"full"},textTransform:"uppercase",bg:s,color:l,py:{base:1,md:4},px:{base:2,md:10},fontSize:"md",fontWeight:"hairline",children:[Object(q.jsx)("span",{children:"Nombre"}),Object(q.jsx)(Pe.a.span,{textAlign:{md:"center"},columns:1,children:"Creado"}),Object(q.jsx)(Pe.a.span,{textAlign:{md:"right"},columns:1,children:"Acciones"})]}),Object(q.jsxs)(Ve.a,{spacingY:3,columns:{base:1,md:3},w:"full",py:2,px:10,fontWeight:"hairline",children:[Object(q.jsx)("span",{children:o}),Object(q.jsx)(Pe.a.span,{textOverflow:"ellipsis",textAlign:{md:"center"},overflow:"hidden",whiteSpace:"nowrap",children:i}),Object(q.jsx)($.a,{justify:{md:"start"},children:Object(q.jsxs)(Je.a,{variant:"solid",size:"sm",spacing:3,justifyContent:"flex-end",w:{base:"auto",md:"full"},children:[Object(q.jsx)(ee.a,{colorScheme:"green",icon:Object(q.jsx)(Xe.a,{}),"aria-label":"Edit Center",onClick:function(){return r(t)}}),Object(q.jsx)(ee.a,{colorScheme:"red",variant:"outline",icon:Object(q.jsx)(Ye.a,{}),"aria-label":"Delete Center",onClick:function(){return a(o,c)}})]})})]})]})},Qe=n(50),$e=n(128),et=n(78),tt=n(229),nt=n(230),rt=n(243),at=function(e){var t=e.center,n=e.handleSubmit,a=t||{},c=a.name,o=a.img,i=a.adress,s=a.coordenades,l=Object(r.useState)(""),u=Object(Ke.a)(l,2),d=u[0],j=u[1];return Object(q.jsx)(Q.a,{children:Object(q.jsx)(Q.a,{mt:10,children:Object(q.jsxs)(Ve.a,{display:{base:"initial",md:"grid"},columns:{md:3},spacing:{md:6},children:[Object(q.jsx)($e.b,{colSpan:{md:1},children:Object(q.jsxs)(Q.a,{px:[4,0],children:[Object(q.jsx)(L.a,{align:"center",fontSize:"lg",fontWeight:"medium",lineHeight:"6",children:"Administrar centro de vacunaci\xf3n"}),o?Object(q.jsx)(He.a,{rounded:"lg",height:230,width:282,objectFit:"cover",src:o}):Object(q.jsx)(He.a,{rounded:"lg",height:230,width:282,objectFit:"cover",src:d})]})}),Object(q.jsx)($e.b,{mt:[5,null,0],colSpan:{md:2},children:Object(q.jsxs)(Pe.a.form,{onSubmit:n,shadow:"base",rounded:[null,"md"],overflow:{sm:"hidden"},children:[Object(q.jsx)(B.a,{px:4,py:5,p:[null,6],bg:Object(Z.c)("white","gray.700"),spacing:6,children:Object(q.jsxs)(Ve.a,{columns:6,spacing:6,children:[Object(q.jsxs)(et.a,{as:$e.b,colSpan:6,isRequired:!0,children:[Object(q.jsx)(tt.a,{htmlFor:"center_img",fontSize:"sm",fontWeight:"md",color:Object(Z.c)("gray.700","gray.50"),children:"Url de la imagen"}),Object(q.jsx)(nt.a,{size:"sm",children:Object(q.jsx)(rt.a,{type:"url",placeholder:"https://www.ejemplo.com",defaultValue:o,onChange:function(e){return j(e.target.value)},focusBorderColor:"brand.400",shadow:"sm",size:"sm",name:"center_img",id:"center_img",mt:1,w:"full",rounded:"md"})})]}),Object(q.jsxs)(et.a,{as:$e.b,colSpan:6,isRequired:!0,children:[Object(q.jsx)(tt.a,{htmlFor:"center_name",fontSize:"sm",fontWeight:"md",color:Object(Z.c)("gray.700","gray.50"),children:"Nombre"}),Object(q.jsx)(rt.a,{type:"text",placeholder:"Nombre",defaultValue:c,minLength:"5",maxLength:"30",focusBorderColor:"brand.400",shadow:"sm",size:"sm",name:"center_name",id:"center_name",mt:1,w:"full",rounded:"md"})]}),Object(q.jsxs)(et.a,{as:$e.b,colSpan:6,isRequired:!0,children:[Object(q.jsx)(tt.a,{htmlFor:"street_address",fontSize:"sm",fontWeight:"md",color:Object(Z.c)("gray.700","gray.50"),children:"Direcci\xf3n"}),Object(q.jsx)(rt.a,{type:"text",name:"street_address",id:"street_address",placeholder:"Ej. San Nicolas de Bari 255",defaultValue:i,minLength:"5",maxLength:"50",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md"})]}),Object(q.jsxs)(et.a,{as:$e.b,colSpan:[3,4],isRequired:!0,children:[Object(q.jsx)(tt.a,{htmlFor:"center_lat",fontSize:"sm",fontWeight:"md",color:Object(Z.c)("gray.700","gray.50"),children:"Latitud"}),Object(q.jsx)(rt.a,{type:"number",step:"0.000000000001",name:"center_lat",id:"center_lat",placeholder:"Ej. -66.8919548",defaultValue:null===s||void 0===s?void 0:s.lat,mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md"})]}),Object(q.jsxs)(et.a,{as:$e.b,colSpan:[3,4],isRequired:!0,children:[Object(q.jsx)(tt.a,{htmlFor:"center_lon",fontSize:"sm",fontWeight:"md",color:Object(Z.c)("gray.700","gray.50"),children:"Longitud"}),Object(q.jsx)(rt.a,{type:"number",step:"0.000000000001",name:"center_lon",id:"center_lon",placeholder:"Ej. -22.3454789",defaultValue:null===s||void 0===s?void 0:s.lon,mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md"})]})]})}),Object(q.jsx)(Q.a,{px:{base:4,sm:6},py:3,bg:Object(Z.c)("gray.50","gray.900"),textAlign:"right",children:Object(q.jsx)(M.a,{type:"submit",_focus:{shadow:""},fontWeight:"md",children:"Enviar"})})]})})]})})})},ct=Object(s.b)(null,(function(e){return{updateCenter:function(t,n){return e(function(e,t){return function(){var n=Object(p.a)(h.a.mark((function n(r){var a,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Ne()),n.prev=1,n.next=4,ge(e,t);case 4:a=n.sent,r(Ie(a)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),c=n.t0.message,r(Ae(c));case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},createCenter:function(t){return e(function(e){return function(){var t=Object(p.a)(h.a.mark((function t(n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ne()),t.prev=1,t.next=4,ye(e);case 4:r=t.sent,n(Le(r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.message,n(Ae(a));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.isOpen,n=e.onClose,r=e.center,a=e.title,c=e.createCenter,o=e.updateCenter,i=(r||{})._id;return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(Qe.a,{closeOnOverlayClick:!1,isOpen:t,onClose:n,size:"xl",children:[Object(q.jsx)(Qe.g,{}),Object(q.jsxs)(Qe.d,{children:[Object(q.jsx)(Qe.f,{children:a}),Object(q.jsx)(Qe.c,{}),Object(q.jsx)(Qe.b,{pb:6,children:Object(q.jsx)(at,{center:r,handleSubmit:function(e){e.preventDefault();var t=e.target,r=t.center_name,s=t.street_address,l=t.center_img,u=t.center_lat,d=t.center_lon,j={name:r.value,adress:s.value,img:l.value,coordenades:{lat:Number(u.value),lon:Number(d.value)}};if("Editar centro"===a)return o(i,j),void n();c(j),n()}})})]})]})})})),ot=n(231),it=Object(s.b)(null,(function(e){return{deleteCenter:function(t){return e(function(e){return function(){var t=Object(p.a)(h.a.mark((function t(n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ne()),t.prev=1,t.next=4,ve(e);case 4:r=t.sent,n(Fe(r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.message,n(Ae(a));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.isOpen,n=e.onClose,a=e.name,c=e.deleteCenter,o=e.id,i=Object(r.useRef)();return Object(q.jsx)(ot.a,{isOpen:t,leastDestructiveRef:i,onClose:n,children:Object(q.jsx)(Qe.g,{children:Object(q.jsxs)(ot.b,{children:[Object(q.jsx)(Qe.f,{fontSize:"lg",fontWeight:"bold",children:"Borrar Centro"}),Object(q.jsx)(Qe.b,{children:"\xbfEstas seguro de querer eliminar el centro ".concat(a,"?")}),Object(q.jsxs)(Qe.e,{children:[Object(q.jsx)(M.a,{ref:i,onClick:n,children:"Cancelar"}),Object(q.jsx)(M.a,{colorScheme:"red",onClick:function(){n(),c(o)},ml:3,children:"Borrar"})]})]})})})})),st=function(e){var t=e.centers,n=Object(Z.c)("white","gray.800"),a=Object(Y.a)(),c=a.isOpen,o=a.onOpen,i=a.onClose,s=Object(Y.a)(),l=s.isOpen,u=s.onOpen,d=s.onClose,j=Object(r.useState)(""),b=Object(Ke.a)(j,2),h=b[0],p=b[1],f=Object(r.useState)(""),O=Object(Ke.a)(f,2),x=O[0],m=O[1],g=Object(r.useState)(""),v=Object(Ke.a)(g,2),y=v[0],w=v[1],C=Object(r.useState)({}),_=Object(Ke.a)(C,2),E=_[0],S=_[1],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w((null===e||void 0===e?void 0:e.name)?"Editar centro":"Crear centro"),S(e),o()},R=function(e,t){p(e),m(t),u()};return Object(q.jsxs)($.a,{w:"full",bg:{md:n},p:50,alignItems:"center",justifyContent:"center",flexDirection:"column",children:[Object(q.jsx)(M.a,{alignSelf:"flex-end",my:"6",onClick:k,children:"Crear Nuevo Centro"}),Object(q.jsx)(B.a,{direction:{base:"column"},w:"full",bg:{md:Object(Z.c)("white","gray.800")},shadow:"lg",children:t.map((function(e,t){return Object(q.jsx)(Ze,{center:e,tid:t,onOpenAlert:R,onOpenModal:k},t)}))}),Object(q.jsx)(it,{isOpen:l,onClose:d,name:h,id:x}),Object(q.jsx)(ct,{isOpen:c,onClose:i,center:E,title:y})]})},lt=Object(s.b)((function(e){return{loading:Ue(e),centers:Ge(e)}}),(function(e){return{loadCenters:function(){return e(function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ze}),e.prev=1,e.next=4,we();case 4:n=e.sent,t(Be(n)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r=e.t0.message,t({type:Te,payload:r});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.loadCenters,n=e.loading,a=e.centers,c=Object(d.f)().pathname;return Object(r.useEffect)((function(){t()}),[t]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(I.a,{mt:"6",children:Object(q.jsx)(L.a,{children:"Centros de Vacunaci\xf3n"})})}),Object(q.jsxs)(j.a,{h:"100vh",isLoaded:!n,children:[a.length>0&&("/admin/centers"===c?Object(q.jsx)(st,{centers:a}):Object(q.jsx)(qe,{centers:a})),0===a.length&&Object(q.jsx)(I.a,{mt:"14",children:Object(q.jsx)(L.a,{children:"Sin centros de vacunaci\xf3n"})})]})]})})),ut=function(e){var t=e.loading,n=e.center;return Object(q.jsx)(Q.a,{role:"group",p:6,maxW:"330px",w:"full",bg:Object(Z.c)("white","gray.800"),boxShadow:"2xl",rounded:"lg",pos:"relative",zIndex:1,children:Object(q.jsxs)(j.a,{isLoaded:!t,children:[Object(q.jsx)(Q.a,{rounded:"lg",mt:-12,pos:"relative",height:"230px",_after:{transition:"all .3s ease",content:'""',w:"full",h:"full",pos:"absolute",top:5,left:0,backgroundImage:"url(".concat(null===n||void 0===n?void 0:n.img,")"),filter:"blur(15px)",zIndex:-1},_groupHover:{_after:{filter:"blur(20px)"}},children:Object(q.jsx)(He.a,{rounded:"lg",height:230,width:282,objectFit:"cover",src:null===n||void 0===n?void 0:n.img})}),Object(q.jsxs)(B.a,{pt:10,align:"center",children:[Object(q.jsx)(G.a,{align:"center",color:"gray.500",fontSize:"sm",textTransform:"uppercase",children:null===n||void 0===n?void 0:n.adress}),Object(q.jsx)(L.a,{align:"center",fontSize:"2xl",fontFamily:"body",fontWeight:500,children:(null===n||void 0===n?void 0:n.name)||"Centro No encontrado"})]})]})})},dt=n(43),jt=n.n(dt),bt=n(233),ht=n(244),pt=n(234),ft=n(235),Ot=n(132),xt=n(133),mt=jt.a.icon({iconUrl:xt.a,shadowUrl:Ot.a});jt.a.Marker.prototype.options.icon=mt;var gt=function(e){var t=e.coordenades,n=e.loading,r=e.name,a=t||{},c=[a.lat||-29.412733839225506,a.lon||-66.85607393546375];return Object(q.jsx)(j.a,{isLoaded:!n,mt:"4",w:{base:"90vw",md:"40vw"},children:Object(q.jsxs)(bt.a,{center:c,zoom:16,scrollWheelZoom:!1,children:[Object(q.jsx)(ht.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(q.jsx)(pt.a,{position:c,children:Object(q.jsx)(ft.a,{children:r})})]})})},vt=Object(s.b)((function(e){return{loading:Ue(e),center:Me(e)}}),(function(e){return{loadCenter:function(t){return e(function(e){return function(){var t=Object(p.a)(h.a.mark((function t(n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ne()),t.prev=1,t.next=4,me(e);case 4:r=t.sent,n(We(r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.message,n(Ae(a));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.loadCenter,n=e.center,a=e.loading,c=Object(d.g)().id;return Object(r.useEffect)((function(){t(c)}),[c,t]),Object(q.jsxs)(I.a,{py:12,flexDirection:{base:"column",md:"row"},mt:{base:"0",md:"9"},children:[Object(q.jsx)(ut,{center:n,loading:a}),Object(q.jsx)(gt,{coordenades:null===n||void 0===n?void 0:n.coordenades,loading:a,name:null===n||void 0===n?void 0:n.name})]})})),yt=function(){return Object(q.jsx)(I.a,{h:"full",children:Object(q.jsx)(L.a,{children:"Bienvenido a Covid Center Info"})})},wt=function(){return Object(q.jsx)(I.a,{mt:"6",children:Object(q.jsx)(L.a,{children:"No encontrado"})})},Ct=Object(s.b)((function(e){return{loading:A(e)}}),(function(e){return{loadUserData:function(){return e(function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:n=e.sent,t(D(n)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.message,t({type:T,payload:r});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.loadUserData,n=e.loading;return Object(r.useEffect)((function(){t()}),[t]),Object(q.jsxs)(j.a,{isLoaded:!n,h:"100vh",children:[Object(q.jsx)(xe,{}),Object(q.jsxs)(d.c,{children:[Object(q.jsx)(d.a,{exact:!0,path:"/",component:yt}),Object(q.jsx)(d.a,{exact:!0,path:"/login",component:V}),Object(q.jsx)(d.a,{exact:!0,path:"/centers",render:function(){return Object(q.jsx)(P,{Component:lt})}}),Object(q.jsx)(d.a,{exact:!0,path:"/center/:id",render:function(){return Object(q.jsx)(P,{Component:vt})}}),Object(q.jsx)(d.a,{exact:!0,path:"/admin/centers",render:function(){return Object(q.jsx)(J,{Component:lt})}}),Object(q.jsx)(d.a,{exact:!0,path:"*",component:wt})]})]})})),_t=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,245)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},Et=n(27),St=n(69),kt=n(134),Rt=(n(187),n(135)),zt={loading:!1,center:null,error:null,centers:[],centersError:null},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ce:return Object(X.a)(Object(X.a)({},e),{},{loading:!0,center:null,error:null});case _e:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,error:r});case Ee:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,center:r});case Se:var a=e.centers.filter((function(e){return e._id!==r}));return Object(X.a)(Object(X.a)({},e),{},{loading:!1,centers:a});case ke:var c=e.centers.map((function(e){return e._id===r._id?r:e}));return Object(X.a)(Object(X.a)({},e),{},{loading:!1,centers:c});case Re:var o=e.centers.concat(r);return Object(X.a)(Object(X.a)({},e),{},{loading:!1,centers:o});case ze:return Object(X.a)(Object(X.a)({},e),{},{loading:!0,centers:[],centersError:null});case Te:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,centersError:r});case De:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,centers:r});default:return e}},Dt={loading:!0,userData:null,error:null},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case z:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,userData:r});case T:return Object(X.a)(Object(X.a)({},e),{},{loading:!1,error:r});default:return e}},At=Object(St.combineReducers)({root:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},authReducer:Nt,centerReducer:Tt}),Wt=[kt.a,!1].filter(Boolean),Ft=Object(St.createStore)(At,Object(Rt.composeWithDevTools)(St.applyMiddleware.apply(void 0,Object(Et.a)(Wt))));n(188),n(189);o.a.render(Object(q.jsx)(a.a.StrictMode,{children:Object(q.jsx)(s.a,{store:Ft,children:Object(q.jsxs)(l.a,{children:[Object(q.jsx)(u.a,{initialColorMode:"light"}),Object(q.jsx)(i.a,{children:Object(q.jsx)(Ct,{})})]})})}),document.getElementById("root")),_t()}},[[190,1,2]]]);
//# sourceMappingURL=main.6b3b6fc4.chunk.js.map